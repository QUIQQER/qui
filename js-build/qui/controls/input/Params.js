define("qui/classes/DOM",[],function(){"use strict";return window.$quistorage={},new Class({Implements:[Options,Events],Type:"qui/classes/DOM",options:{},$uid:null,initialize:function(t){t=t||{},t.events&&(this.addEvents(t.events),delete t.events),t.methods&&(Object.append(this,t.methods),delete t.methods),this.setAttributes(t)},$family:function(){return"undefined"!=typeof this.Type?this.Type:typeOf(this)},getId:function(){return this.$uid||(this.$uid=String.uniqueID()),this.$uid},getType:function(){return typeOf(this)},setAttribute:function(t,e){if(this.fireEvent("setAttribute",[t,e]),"undefined"!=typeof this.options[t])return void(this.options[t]=e);var i=Slick.uidOf(this);return"undefined"==typeof window.$quistorage[i]&&(window.$quistorage[i]={}),window.$quistorage[i][t]=e,this},destroy:function(){this.fireEvent("destroy",[this]);var t=Slick.uidOf(this);t in window.$quistorage&&delete window.$quistorage[t],this.removeEvents()},setOptions:function(t){this.setAttributes(t)},setAttributes:function(t){t=t||{};for(var e in t)this.setAttribute(e,t[e]);return this},getAttribute:function(t){if(t in this.options)return this.options[t];var e=Slick.uidOf(this);return"undefined"==typeof window.$quistorage[e]?!1:"undefined"!=typeof window.$quistorage[e][t]?window.$quistorage[e][t]:!1},getAllAttributes:function(){return this.getAttributes()},getAttributes:function(){return this.options},getStorageAttributes:function(){var t=Slick.uidOf(this);return t in window.$quistorage?window.$quistorage[t]:{}},existAttribute:function(t){if("undefined"!=typeof this.options[t])return!0;var e=Slick.uidOf(this);return window.$quistorage[e]&&window.$quistorage[e][t]?!0:!1},getEvents:function(t){return"undefined"==typeof this.$events?!1:"undefined"!=typeof this.$events[t]?this.$events[t]:!1}})}),define("qui/classes/Controls",["require","qui/classes/DOM"],function(t,e){"use strict";return new Class({Extends:e,Type:"qui/classes/Controls",initialize:function(){this.$controls={},this.$cids={},this.$types={}},get:function(t){return"undefined"==typeof this.$controls[t]?[]:this.$controls[t]},getById:function(t){return t in this.$cids?this.$cids[t]:!1},getByType:function(t){return t in this.$types?this.$types[t]:[]},loadType:function(e,i){e.match(/qui\//)||(e="qui/"+e),t([modul],i)},isControl:function(t){return"undefined"!=typeof t&&t&&"undefined"!=typeof t.getType?!0:!1},add:function(t){var e=t.getAttribute("name"),i=typeOf(t);e&&""!==e||(e="#unknown"),"undefined"==typeof this.$controls[e]&&(this.$controls[e]=[]),"undefined"==typeof this.$types[i]&&(this.$types[i]=[]),this.$controls[e].push(t),this.$types[i].push(t),this.$cids[t.getId()]=t},destroy:function(t){var e=t.getAttribute("name"),i=typeOf(t),n=t.getId();e&&""!==e||(e="#unknown"),"undefined"!=typeof this.$cids[n]&&delete this.$cids[n];var s,o,r=[];if("undefined"!=typeof this.$controls[e]){for(s=0,o=this.$controls[e].length;o>s;s++)n!==this.$controls[e][s].getId()&&r.push(this.$controls[e][s]);this.$controls[e]=r,r.length||delete this.$controls[e]}if(r=[],"undefined"!=typeof this.$types[i])for(s=0,o=this.$types[i].length;o>s;s++)n!==this.$types[i][s].getId()&&r.push(this.$types[i][s]);this.$types[i]=r}})}),define("qui/classes/QUI",["require","qui/classes/DOM","qui/classes/Controls"],function(t,e,i){"use strict";return new Class({Extends:e,Type:"qui/classes/QUI",initialize:function(e){this.setAttributes({debug:!1,fetchErrors:!0}),this.parent(e),this.getAttribute("fetchErrors")&&(t.onError=function(t,e){self.trigger("ERROR :"+t+"\nRequire :"+e)},window.onerror=this.trigger.bind(this)),this.Controls=new i,this.MessageHandler=null},namespace:function(){for(var t,e=arguments,i=this,n=0,s=0,o=e.length,r=null,u=null;o>n;n+=1)for(r=e[n].split("."),t=r.length,s=0;t>s;s+=1)u=r[s],i[u]=i[u]||{},i=i[u];return i},triggerError:function(t,e){return this.fireEvent("onError",[t,e]),this.trigger(t.getMessage()),this},trigger:function(t,e,i){var n=t+"\nFile: "+e+"\nLinenumber: "+i;return console.error(n),this},getMessageHandler:function(e){if(this.MessageHandler)return void e(this.MessageHandler);var i=this;t(["qui/controls/messages/Handler"],function(t){i.MessageHandler=new t,e(i.MessageHandler)})},getControls:function(t){return this.Controls?void t(this.Controls):void 0}})}),define("qui/QUI",["qui/classes/QUI"],function(t){"use strict";return"undefined"==typeof window.QUI&&(window.QUI=new t),document.fireEvent("qui-loaded"),window.QUI}),define("qui/lib/require-css/normalize",[],function(){function t(t,i,s){if(t.match(u)||t.match(r))return t;t=o(t);var l=s.match(r),a=i.match(r);return!a||l&&l[1]==a[1]&&l[2]==a[2]?n(e(t,i),s):e(t,i)}function e(t,e){if("./"==t.substr(0,2)&&(t=t.substr(2)),t.match(u)||t.match(r))return t;var i=e.split("/"),n=t.split("/");for(i.pop();curPart=n.shift();)".."==curPart?i.pop():i.push(curPart);return i.join("/")}function n(t,e){var n=e.split("/");for(n.pop(),e=n.join("/")+"/",i=0;e.substr(i,1)==t.substr(i,1);)i++;for(;"/"!=e.substr(i,1);)i--;e=e.substr(i+1),t=t.substr(i+1),n=e.split("/");var s=t.split("/");for(out="";n.shift();)out+="../";for(;curPart=s.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var s=/([^:])\/+/g,o=function(t){return t.replace(s,"$1/")},r=/[^\:\/]*:\/\/([^\/])*/,u=/^(\/|data:)/,l=function(e,i,n){i=o(i),n=o(n);for(var s,r,e,u=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;s=u.exec(e);){r=s[3]||s[2]||s[5]||s[6]||s[4];var l;l=t(r,i,n);var a=s[5]||s[6]?1:0;e=e.substr(0,u.lastIndex-r.length-a-1)+l+e.substr(u.lastIndex-a-1),u.lastIndex=u.lastIndex+(l.length-r.length)}return e};return l.convertURIBase=t,l.absoluteURI=e,l.relativeURI=n,l}),define("qui/lib/require-css/css",[],function(){if("undefined"==typeof window)return{load:function(t,e,i){i()}};var t=document.getElementsByTagName("head")[0],e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,i=!1,n=!0;e[1]||e[7]?i=parseInt(e[1])<6||parseInt(e[7])<=9:e[2]?n=!1:e[4]&&(i=parseInt(e[4])<18);var s={};s.pluginBuilder="./css-builder";var o,r,u,l=function(){o=document.createElement("style"),t.appendChild(o),r=o.styleSheet||o.sheet},a=0,c=[],d=function(t){a++,32==a&&(l(),a=0),r.addImport(t),o.onload=h},h=function(){u();var t=c.shift();return t?(u=t[1],void d(t[0])):void(u=null)},f=function(t,e){if(r&&r.addImport||l(),r&&r.addImport)u?c.push([t,e]):(d(t),u=e);else{o.textContent='@import "'+t+'";';var i=setInterval(function(){try{o.sheet.cssRules,clearInterval(i),e()}catch(t){}},10)}},m=function(e,i){var s=document.createElement("link");if(s.type="text/css",s.rel="stylesheet",n)s.onload=function(){s.onload=function(){},setTimeout(i,7)};else var o=setInterval(function(){for(var t=0;t<document.styleSheets.length;t++){var e=document.styleSheets[t];if(e.href==s.href)return clearInterval(o),i()}},10);s.href=e,t.appendChild(s)};return s.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)},s.load=function(t,e,n){(i?f:m)(e.toUrl(t+".css"),n)},s}),define("qui/lib/require-css/css!qui/controls/Control",[],function(){}),define("qui/controls/Control",["qui/QUI","qui/classes/DOM","css!qui/controls/Control.css"],function(t,e){"use strict";return new Class({Extends:e,Type:"qui/controls/Control",$Parent:null,options:{name:""},initialize:function(e){this.parent(e),t.Controls.add(this)},create:function(){return this.$Elm?this.$Elm:(this.$Elm=new Element("div.QUI-control"),this.$Elm)},inject:function(e,i){return this.fireEvent("drawBegin",[this]),"undefined"!=typeof this.$Elm&&this.$Elm||(this.$Elm=this.create()),"undefined"!=typeof t&&"undefined"!=typeof t.Controls&&t.Controls.isControl(e)?e.appendChild(this):this.$Elm.inject(e,i),this.fireEvent("inject",[this]),this},serialize:function(){return{attributes:this.getAttributes(),type:this.getType()}},unserialize:function(t){t.attributes&&this.setAttributes(t.attributes)},destroy:function(){this.fireEvent("destroy",[this]),"undefined"!=typeof this.$Elm&&this.$Elm&&this.$Elm.destroy(),this.$Elm=null,t.Controls.destroy(this)},getElm:function(){return"undefined"!=typeof this.$Elm&&this.$Elm||this.create(),this.$Elm},getParent:function(){return this.$Parent||!1},setParent:function(t){return this.$Parent=t,this},getPath:function(){var t="/"+this.getAttribute("name"),e=this.getParent();return e?e.getPath()+t:t},hide:function(){return this.$Elm&&this.$Elm.setStyle("display","none"),this},show:function(){return this.$Elm&&this.$Elm.setStyle("display",null),this},highlight:function(){return this.fireEvent("highlight",[this]),this},normalize:function(){return this.fireEvent("normalize",[this]),this},focus:function(){return this.$Elm&&this.$Elm.focus(),this},resize:function(){this.fireEvent("resize",[this])}})}),define("qui/utils/Controls",["qui/QUI"],function(t){"use strict";return{isFontAwesomeClass:function(t){return t?!t.match(/icon-/)&&!t.match(/fa-/)||t.match(/\./)?!1:!0:!1},highlight:function(e){if(e){var i=e.get("data-quiid");i&&t.Controls.getById(i).highlight()}},normalize:function(e){if(e){var i=e.get("data-quiid");i&&t.Controls.getById(i).normalize()}}}}),define("qui/utils/NoSelect",[],function(){"use strict";return{enable:function(t){return"undefined"==typeof t.setProperty&&(t=document.id(t)),t.removeClass("qui-utils-noselect"),Browser.ie?void document.removeEvent("selectstart",this.stopSelection):(t.removeProperty("unselectable","on"),t.removeProperty("unSelectable","on"),void t.setStyles({MozUserSelect:"",KhtmlUserSelect:""}))},disable:function(t){return"undefined"==typeof t.setProperty&&(t=document.id(t)),t.addClass("qui-utils-noselect"),Browser.ie?void document.addEvent("selectstart",this.stopSelection):(t.setProperty("unselectable","on"),t.setProperty("unSelectable","on"),void t.setStyles({MozUserSelect:"none",KhtmlUserSelect:"none"}))},stopSelection:function(t){return t.stop(),!1}}}),define("qui/utils/Elements",[],function(){"use strict";return{isInViewport:function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},isInBody:function(t){var e=document.body.getSize(),i=t.getCoordinates();return console.log(i),console.log(e),!1},getComputedZIndex:function(t){var e,i,n,s=0,o=t.getParents();for(e=0,n=o.length;n>e;e++)i=o[e].getStyle("zIndex"),"auto"!=i&&i>s&&(s=i);return s}}}),define("qui/lib/require-css/css!qui/controls/buttons/Button",[],function(){}),define("qui/controls/buttons/Button",["qui/controls/Control","qui/utils/Controls","qui/utils/NoSelect","qui/utils/Elements","css!qui/controls/buttons/Button.css"],function(Control,Utils,NoSelect,ElementUtils){"use strict";return new Class({Extends:Control,Type:"qui/controls/buttons/Button",Binds:["onSetAttribute"],options:{type:"button",image:!1,icon:!1,style:{},textimage:!1,text:!1,title:!1,"class":!1,buttonCSSClass:!0,menuCorner:"top"},params:{},initialize:function(t){this.parent(t),this.$Menu=null,this.$Drop=null,this.$items=[],t.events&&delete t.events,this.setAttributes(this.initV2(t)),this.addEvent("onSetAttribute",this.onSetAttribute),this.addEvent("onDestroy",function(){this.$Menu&&this.$Menu.destroy()}.bind(this))},initV2:function(options){return options.onclick&&("string"===typeOf(options.onclick)&&(options.onclick=function(p){eval(p+"(this);")}.bind(this,[options.onclick])),this.addEvent("onClick",options.onclick),delete options.onclick),options.oncreate&&(this.addEvent("onCreate",options.oncreate),delete options.oncreate),options},create:function(){var t,e,i=this,n=new Element("button",{type:this.getAttribute("type"),"data-status":0,"data-quiid":this.getId()});return this.getAttribute("buttonCSSClass")&&n.addClass("qui-button"),this.getAttribute("width")&&n.setStyle("width",this.getAttribute("width")),this.getAttribute("height")&&n.setStyle("height",this.getAttribute("height")),this.getAttribute("styles")&&n.setStyles(this.getAttribute("styles")),this.getAttribute("class")&&n.addClass(this.getAttribute("class")),n.style.outline=0,n.setAttribute("tabindex","-1"),n.addEvents({click:function(t){i.isDisabled()||i.onclick(t)},mouseenter:function(){i.isDisabled()||(i.isActive()||i.getElm().addClass("qui-button-over"),i.fireEvent("enter",[i]))},mouseleave:function(){i.isDisabled()||(i.isActive()||i.getElm().removeClass("qui-button-over"),i.fireEvent("leave",[i]))},mousedown:function(t){i.isDisabled()||i.fireEvent("mousedown",[i,t])},mouseup:function(t){i.isDisabled()||i.fireEvent("mouseup",[i,t])},blur:function(t){i.fireEvent("blur",[i,t])},focus:function(t){i.fireEvent("focus",[i,t])}}),this.$Elm=n,this.getAttribute("icon")&&this.setAttribute("icon",this.getAttribute("icon")),!this.getAttribute("icon")&&this.getAttribute("image")&&this.setAttribute("icon",this.getAttribute("image")),this.getAttribute("styles")&&this.setAttribute("styles",this.getAttribute("styles")),this.getAttribute("textimage")&&this.setAttribute("textimage",this.getAttribute("textimage")),this.getAttribute("text")&&this.setAttribute("text",this.getAttribute("text")),this.getAttribute("title")&&this.$Elm.setAttribute("title",this.getAttribute("title")),this.getAttribute("disabled")&&this.setDisable(),e=this.$items.length,e&&this.getContextMenu(function(n){for(t=0;e>t;t++)n.appendChild(i.$items[t]);i.$Drop=new Element("div",{"class":"qui-button-drop icon-chevron-down"}).inject(i.$Elm)}),this.fireEvent("create",[this]),NoSelect.disable(n),this.$Elm},click:function(t){this.isDisabled()||this.fireEvent("click",[this,t])},onclick:function(t){this.click(t)},setActive:function(){if(!this.isDisabled()){var t=this.getElm();t&&(t.addClass("qui-button-active"),t.set("data-status",1),this.fireEvent("active",[this]))}},isActive:function(){return this.getElm()&&1==this.getElm().get("data-status")?!0:!1},disable:function(){var t=this.getElm();if(t)return t.set({"data-status":-1,disabled:"disabled"}),this.fireEvent("disable",[this]),this},setDisable:function(){return this.disable()},isDisabled:function(){return this.getElm()&&-1==this.getElm().get("data-status")?!0:!1},enable:function(){return this.getElm()?(this.getElm().set({"data-status":0,disabled:null}),this.setNormal(),this):!1},setEnable:function(){return this.enable()},setNormal:function(){if(!this.isDisabled()){if(!this.getElm())return!1;var t=this.getElm();return t.set({"data-status":0,disabled:null}),t.removeClass("qui-button-active"),t.removeClass("qui-button-over"),this.fireEvent("normal",[this]),this}},appendChild:function(t){if(this.$items.push(t),t.setAttribute("Button",this),!this.$Elm)return this;var e=this;return this.getContextMenu(function(i){i.appendChild(t),e.$Drop||(e.$Drop=new Element("div",{"class":"qui-button-drop icon-chevron-down"}).inject(e.$Elm))}),this},getChildren:function(){return this.$items},clear:function(){return this.getContextMenu(function(t){t.clearChildren()}),this.$items=[],this},getContextMenu:function(t){if(this.$Menu&&"undefined"==typeof this.$createContextMenu)return t(this.$Menu),this;var e=this;return"undefined"!=typeof this.$createContextMenu?(function(){e.getContextMenu(t)}.delay(10),this):(this.$createContextMenu=!0,void require(["qui/controls/contextmenu/Menu"],function(i){e.$Menu=new i({name:e.getAttribute("name")+"-menu",corner:e.getAttribute("menuCorner")}),e.$Menu.inject(document.body),e.addEvents({onClick:function(){if(!e.isDisabled()){var t=e.$Elm.getPosition(),i=e.$Elm.getSize();e.$Menu.setPosition(t.x-20,t.y+i.y+10),e.$Menu.show(),e.$Elm.focus()}},onBlur:function(){e.$Menu.hide()}}),e.$Menu.setParent(e),delete e.$createContextMenu,t(e.$Menu)}))},onSetAttribute:function(k,value){var Elm=this.getElm();if(Elm){if("onclick"===k)return this.removeEvents("click"),void this.addEvent("click",function(p){eval(p+"(this);")}.bind(this,[value]));if("image"==k&&(k="icon"),"icon"===k){Elm.getElement(".image-container")||new Element("div.image-container",{align:"center"}).inject(Elm);var Image=Elm.getElement(".image-container");return Image.set("html",""),void(Utils.isFontAwesomeClass(value)?new Element("span",{"class":value}).inject(Image):new Element("img.qui-button-image",{src:value,styles:{display:"block"}}).inject(Image))}if("styles"===k)return void Elm.setStyles(value);if("title"===k)return void Elm.setAttribute("title",value);if("textimage"===k||"text"===k){Elm.getElement(".qui-button-text")||new Element("span.qui-button-text").inject(Elm);var Txt=Elm.getElement(".qui-button-text");if("text"===k&&Txt.set("html",value),"textimage"===k){var Img;Elm.getElement(".qui-button-text-image")&&Elm.getElement(".qui-button-text-image").destroy(),Img=Utils.isFontAwesomeClass(value)?new Element("span",{"class":"qui-button-text-image "+value,styles:{"margin-right":0}}).inject(Txt,"before"):new Element("img",{"class":"qui-button-text-image",src:value,styles:{"margin-right":0}}).inject(Txt,"before"),this.getAttribute("text")&&Img.setStyle("margin-right",null)}}}}})}),define("qui/controls/utils/Background",["qui/controls/Control"],function(t){"use strict";return new Class({Extends:t,Type:"qui/controls/utils/Background",options:{styles:!1},initialize:function(t){this.parent(t)},create:function(){var t=this;return this.$Elm?this.$Elm:(this.$Elm=new Element("div",{"class":"qui-background",styles:{backgroundColor:"#000000",position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:1e3,opacity:.6,display:"none"},events:{click:function(){t.fireEvent("click",[t])}}}),document.body.appendChild(this.$Elm),this.getAttribute("styles")&&this.$Elm.setStyles(this.getAttribute("styles")),this.$Elm)}})}),define("qui/classes/Locale",["qui/classes/DOM"],function(t){"use strict";return new Class({Extends:t,Type:"qui/classes/Locale",current:"en",langs:{},no_translation:!1,initialize:function(t){this.parent(t)},setCurrent:function(t){this.current=t},getCurrent:function(){return this.current},set:function(t,e,i,n){if(this.langs[t]||(this.langs[t]={}),this.langs[t][e]||(this.langs[t][e]={}),"undefined"!=typeof n)return this.langs[t][set][i]=n,this;var s=this.langs[t][e];for(var o in i)s[o]=i[o];this.langs[t][e]=s},get:function(t,e,i){if("undefined"==typeof i)return this.$get(t,e);var n=this.$get(t,e);for(t in i)n=n.replace("["+t+"]",i[t]);return n},$get:function(t,e){return this.no_translation?"["+t+"] "+e:this.langs[this.current]&&this.langs[this.current][t]?"undefined"==typeof e?this.langs[this.current][t]:this.langs[this.current][t][e]?this.langs[this.current][t][e]:"["+t+"] "+e:(this.fireEvent("error",["No translation found for ["+t+"] "+e,this]),"["+t+"] "+e)}})}),define("qui/Locale",["qui/classes/Locale"],function(t){"use strict";return"undefined"==typeof window.QUILocale&&(window.QUILocale=new t),window.QUILocale}),define("qui/lib/require-css/css!qui/controls/loader/Loader",[],function(){}),define("qui/controls/loader/Loader",["qui/controls/Control","qui/Locale","css!qui/controls/loader/Loader.css"],function(t,e){"use strict";return new Class({Extends:t,Type:"qui/controls/loader/Loader",options:{cssclass:"",closetime:5e4,styles:!1},initialize:function(t){this.parent(t),this.$delay=null;this.addEvent("onDestroy",function(){this.$Elm.getParent()&&this.$Elm.getParent().removeClass("qui-loader-parent")})},create:function(){return this.$Elm=new Element("div",{"class":"qui-loader",html:'<div class="qui-loader-message"></div><div class="qui-loader-bar"><div class="qui-loader-dot qui-loader-bar1"></div><div class="qui-loader-dot qui-loader-bar2"></div><div class="qui-loader-dot qui-loader-bar3"></div><div class="qui-loader-dot qui-loader-bar4"></div><div class="qui-loader-dot qui-loader-bar5"></div><div class="qui-loader-dot qui-loader-bar6"></div><div class="qui-loader-dot qui-loader-bar7"></div><div class="qui-loader-dot qui-loader-bar8"></div></div>',styles:{display:"none",opacity:.8}}),this.getAttribute("cssclass")&&this.$Elm.addClass(this.getAttribute("cssclass")),this.getAttribute("styles")&&this.$Elm.setStyles(this.getAttribute("styles")),this.$Elm},show:function(t){if(this.$Elm&&this.$Elm.getParent()){var e=this.$Elm.getElement(".qui-loader-message"),i=this.$Elm.getElement(".qui-loader-bar"),n=this.$Elm.getParent().getSize();e.set("html",""),i.setStyles({top:(n.y-50)/2,left:(n.x-240)/2}),"undefined"!=typeof t&&e.set({html:t,styles:{top:(n.y+20)/2}}),this.$Elm.setStyle("display",""),this.$Elm.getParent().hasClass("qui-window-popup")||this.$Elm.getParent().addClass("qui-loader-parent"),this.getAttribute("closetime")&&(this.$delay&&clearTimeout(this.$delay),this.$delay=function(){this.showCloseButton()}.delay(this.options.closetime,this))}},hide:function(){this.$delay&&clearTimeout(this.$delay),this.$Elm&&this.$Elm.setStyle("display","none")},showCloseButton:function(){if(this.$Elm){this.$Elm.set({html:"",styles:{cursor:"pointer"}}),this.$Elm.setStyle("opacity",.9);var t=this;new Element("div",{text:e.get("quiqqer/controls","loader.close"),styles:{"font-weight":"bold","text-align":"center","margin-top":this.$Elm.getSize().y/2-100},events:{click:function(){t.hide()}}}).inject(this.$Elm)}}})}),define("qui/controls/windows/locale/de",["qui/Locale"],function(t){"use strict";return t.set("de","qui/controls/windows/Popup",{"btn.close":"Schließen","btn.back":"Zurück"}),t}),define("qui/controls/windows/locale/en",["qui/Locale"],function(t){"use strict";return t.set("en","qui/controls/windows/Popup",{"btn.close":"Close","btn.back":"Back"}),t}),define("qui/lib/require-css/css!qui/controls/windows/Popup",[],function(){}),define("qui/controls/windows/Popup",["qui/controls/Control","qui/controls/utils/Background","qui/controls/loader/Loader","qui/Locale","qui/utils/Controls","qui/controls/windows/locale/de","qui/controls/windows/locale/en","css!qui/controls/windows/Popup.css","css!qui/controls/buttons/Button.css"],function(t,e,i,n,s){"use strict";return new Class({Extends:t,Type:"classes/box/Popup",Binds:["resize","cancel"],options:{maxWidth:900,maxHeight:600,content:!1,icon:!1,title:!1,"class":!1,buttons:!0,closeButton:!0,closeButtonText:n.get("qui/controls/windows/Popup","btn.close"),titleCloseButton:!0},initialize:function(t){this.parent(t),this.$Elm=null,this.$Content=null,this.$Buttons=null,this.Background=new e,this.Loader=new i,window.addEvent("resize",this.resize)},create:function(){if(this.$Elm)return this.$Elm;var t=this;this.$Elm=new Element("div",{"class":"qui-window-popup box",html:'<div class="qui-window-popup-title box"><div class="qui-window-popup-title-icon"></div><div class="qui-window-popup-title-text"></div></div><div class="qui-window-popup-content box"></div><div class="qui-window-popup-buttons box"></div>',tabindex:-1}),this.$Title=this.$Elm.getElement(".qui-window-popup-title"),this.$Icon=this.$Elm.getElement(".qui-window-popup-title-icon"),this.$TitleText=this.$Elm.getElement(".qui-window-popup-title-text"),this.$Content=this.$Elm.getElement(".qui-window-popup-content"),this.$Buttons=this.$Elm.getElement(".qui-window-popup-buttons"),this.getAttribute("titleCloseButton")&&new Element("div",{"class":"icon-remove",styles:{cursor:"pointer","float":"right",lineHeight:17,width:17},events:{click:function(){t.close()}}}).inject(this.$Title);var e=this.getAttribute("icon");if(e&&s.isFontAwesomeClass(e)?this.$Icon.addClass(e):e&&new Element("img",{src:e}).inject(this.$Icon),this.getAttribute("title")&&this.$TitleText.set("html",this.getAttribute("title")),this.getAttribute("title")||this.getAttribute("icon")||this.$Title.setStyle("display","none"),this.getAttribute("buttons")&&this.getAttribute("closeButton")){{new Element("button",{html:"<span>"+this.getAttribute("closeButtonText")+"</span>","class":"qui-button btn-red",events:{click:this.cancel},styles:{display:"inline","float":"none",width:150,textAlign:"center"}}).inject(this.$Buttons)}this.$Buttons.setStyles({"float":"left",margin:"0 auto",textAlign:"center",width:"100%"})}return this.getAttribute("content")&&this.setContent(this.getAttribute("content")),this.getAttribute("class")&&this.$Elm.addClass(this.getAttribute("class")),this.Loader.inject(this.$Elm),this.fireEvent("create",[this]),this.$Elm},open:function(){this.Background.create(),this.Background.getElm().addEvent("click",this.cancel),this.Background.show(),this.inject(document.body),document.body.addClass("noscroll"),this.resize(!0),this.fireEvent("open",[this])},resize:function(t){if(this.$Elm){t=t||!1,this.fireEvent("resizeBegin",[this]);var e=this,i=document.body.getSize(),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0);n>this.getAttribute("maxWidth")&&(n=this.getAttribute("maxWidth")),s>this.getAttribute("maxHeight")&&(s=this.getAttribute("maxHeight"));var o=(i.y-s)/2,r=-1*i.x;if(0>o&&(o=0),0>r&&(r=0),this.$Elm.setStyles({height:s,width:n,left:r,top:o}),this.$Buttons){for(var u=this.$Buttons.getChildren(),l=0,a=u.length-1;a>l;l++)u[l].setStyle("marginRight",10);this.$Buttons.setStyles({height:u[0].getComputedSize().totalHeight+20})}var c=s-this.$Buttons.getSize().y-this.$Title.getSize().y;this.$Content.setStyles({height:c});var r=(i.x-n)/2;return t?void moofx(this.$Elm).animate({left:r},{callback:function(){e.$Elm.focus(),e.fireEvent("resize",[e])}}):(this.$Elm.setStyle("left",r),void this.fireEvent("resize",[this]))}},close:function(){if(window.removeEvent("resize",this.resize),this.$Elm){var t=this;moofx(this.$Elm).animate({left:-1*document.getSize().x},{callback:function(){t.fireEvent("close",[t]),t.$Elm.destroy(),t.Background.destroy(),document.body.getElement("cls-background")||document.body.removeClass("noscroll")}})}},cancel:function(){this.fireEvent("cancel",[this]),this.close()},getContent:function(){return this.$Content},setContent:function(t){this.getContent().set("html",t)},addButton:function(t){if(!this.$Buttons)return this;var e=t;return t.inject(this.$Buttons,"top"),"element"!=typeOf(t)&&(e=t.getElm()),e.setStyles({display:"inline","float":"none"}),this.$Buttons.setStyles({height:e.getComputedSize().totalHeight}),this.resize(),this},hideButtons:function(){return this.$Buttons?void this.$Buttons.setStyle("display","none"):this},showButtons:function(){return this.$Buttons?void this.$Buttons.setStyle("display",""):this},openSheet:function(t){var e=new Element("div",{"class":"qui-window-popup-sheet box",html:'<div class="qui-window-popup-sheet-content box"></div><div class="qui-window-popup-sheet-buttons box"><div class="back button btn-white"><span>'+n.get("qui/controls/windows/Popup","btn.back")+"</span></div></div>",styles:{left:"-110%"}}).inject(this.$Elm);e.getElement(".back").addEvent("click",function(){e.fireEvent("close")}),e.addEvent("close",function(){moofx(e).animate({left:"-100%"},{callback:function(){e.destroy()}})});var i=e.getElement(".qui-window-popup-sheet-content");i.setStyles({height:e.getSize().y-80}),moofx(e).animate({left:0},{callback:function(){t(i,e)}})}})}),define("qui/lib/require-css/css!qui/controls/windows/Confirm",[],function(){}),define("qui/controls/windows/Confirm",["qui/controls/windows/Popup","qui/controls/buttons/Button","qui/utils/Controls","css!qui/controls/windows/Confirm.css"],function(t,e,i){"use strict";return new Class({Extends:t,Type:"qui/controls/windows/Confirm",Binds:["$onOpen"],options:{maxHeight:300,autoclose:!0,information:!1,title:"...",titleicon:"icon-remove",icon:"icon-remove",cancel_button:{text:"Cancel",textimage:"icon-remove"},ok_button:{text:"OK",textimage:"icon-ok"}},initialize:function(t){var e=this;this.parent(t),this.getAttribute("name")===!1&&this.setAttribute("name","win"+(new Date).getMilliseconds()),this.getAttribute("width")===!1&&this.setAttribute("width",500),this.getAttribute("height")===!1&&this.setAttribute("height",240),this.addEvent("onSetAttribute",function(t,n){if(e.$Body.getElement(".textbody")){if("texticon"==t){var s=e.$Body.getElement(".texticon"),o=e.$Body.getElement(".textbody");return s||(s=new Element("div.texticon"),s.inject(o,"before")),o.set({styles:{width:e.$Body.getSize().x-Node.width-20,fontSize:null},src:null}),s.className="texticon",void(i.isFontAwesomeClass(n)?(s.addClass(n),s.setStyles({fontSize:50})):s.src=n)}return"information"==t?void e.$Body.getElement(".information").set("html",n):"text"==t?void e.$Body.getElement(".text").set("html",n):void 0}}),this.$Body=null,this.$Win=null,this.$Buttons=null},open:function(){this.create();var t=this,i=this.getContent();i.setStyles({padding:20}),this.$Body=new Element("div.submit-body",{html:'<div class="textbody"><h2 class="text">&nbsp;</h2><div class="information">&nbsp;</div></div>',styles:{"float":"left",width:"100%"}}),this.$Body.inject(i),this.getAttribute("texticon")&&this.setAttribute("texticon",this.getAttribute("texticon")),this.getAttribute("text")&&this.setAttribute("text",this.getAttribute("text")),this.getAttribute("information")&&this.setAttribute("information",this.getAttribute("information")),this.getAttribute("texticon")||this.getAttribute("text")||this.getAttribute("information")||this.$Body.destroy(),this.addButton(new e({text:this.getAttribute("ok_button").text,textimage:this.getAttribute("ok_button").textimage,styles:{width:150,"float":"none"},events:{onClick:function(){t.submit()}}})),this.parent()},submit:function(){this.fireEvent("submit",[this]),this.getAttribute("autoclose")&&this.close()}})}),define("qui/lib/require-css/css!qui/controls/input/Params",[],function(){}),define("qui/controls/input/Params",["qui/controls/Control","qui/controls/buttons/Button","qui/controls/windows/Confirm","css!qui/controls/input/Params.css"],function(t,e,i){"use strict";return new Class({Extends:t,Type:"qui/controls/input/Params",Binds:["$setValue","openAddParamWindow"],options:{name:"",styles:!1,allowedParams:!1,allowDuplicate:!1,windowMaxHeight:250,windowMaxWidth:400},initialize:function(t,e){this.parent(e),this.$Input=t||null,this.$ParamList=null,this.$AddButton=null,this.$Input&&this.create()},bindElement:function(t){var e=this;return this.$Input=t,this.$Input.type="hidden",this.$Input.addEvent("change",function(){e.$setValue(this.value)}),this},create:function(){var t=this;return this.$Elm=new Element("div",{"class":"qui-control-input-param box"}),this.$ParamList=new Element("div",{"class":"qui-control-input-param-list box"}),this.$AddButton=new e({textimage:"icon-plus",text:"Parameter hinzufügen",events:{onClick:this.openAddParamWindow},styles:{clear:"both",margin:0,width:230}}),this.$Input?this.$Elm.wraps(this.$Input):(this.$Input=new Element("input",{name:this.getAttribute("name")}),this.$Elm.inject(this.$Elm)),this.$Input.type="hidden",this.$Input.addEvent("change",function(){t.$setValue(this.value)}),this.getAttribute("styles")&&this.$ParamList.setStyles(this.getAttribute("styles")),this.$AddButton.inject(this.$Elm),this.$ParamList.inject(this.$Elm),this.$setValue(this.$Input.value),this.$Elm},$setValue:function(t){var e,i;for(t=JSON.decode(t),"array"!=typeOf(t)&&(t=[]),e=0,i=t.length;i>e;e++)"undefined"!=typeof t[e].name&&"undefined"!=typeof t[e].value&&this.addParam(t[e].name,t[e].value)},getValue:function(){var t,e,i,n=this.$ParamList.getElements(".qui-control-input-param-entry"),s=[];for(t=0,e=n.length;e>t;t++)i=n[t],s.push({name:i.get("data-name"),value:i.get("data-value")});return s},addParam:function(t,i){var n=this,s=new Element("div",{"class":"qui-control-input-param-entry box",html:t+" : "+i,"data-name":t,"data-value":i,events:{dblclick:function(){n.openAddParamWindow(this)}}}).inject(this.$ParamList);return new e({icon:"icon-remove",styles:{"float":"right",lineHeight:20,margin:0},events:{onClick:function(){s.destroy()}}}).inject(s),this},openAddParamWindow:function(t){var e=this;new i({title:"Parameter hinzufügen",icon:"icon-plus",maxHeight:this.getAttribute("windowMaxHeight"),maxWidth:this.getAttribute("windowMaxWidth"),autoclose:!1,text:"Geben Sie bitte den Namen und den Wert des Parameters ein.",information:'<div class="qui-control-input-param-window"><label for="">Name</label><input type="text" name="paramName" value="" /><label for="">Wert</label><input type="text" name="paramValue" value="" /></div>',events:{onCreate:function(t){t.getElm().addClass("qui-control-input-param-window")
},onOpen:function(e){var i=e.getContent(),n=i.getElement('[name="paramName"]');i.getElements("input").addEvents({keyup:function(t){"enter"===t.key&&e.submit()}}),"element"===typeOf(t)&&(i.getElement('[name="paramName"]').value=t.get("data-name"),i.getElement('[name="paramValue"]').value=t.get("data-value")),function(){n.focus()}.delay(800)},onSubmit:function(i){var n=i.getContent(),s=n.getElement('[name="paramName"]'),o=n.getElement('[name="paramValue"]');if(""==s.value)return void s.focus();if(""==o.value)return void o.focus();if(!this.getAttribute("allowDuplicate")){var r=e.$ParamList.getElements('[data-name="'+s.value+'"]');if(r.length)return void QUI.getMessageHandler(function(t){s.focus(),t.addError("Doppelte Parameter sind nicht erlaubt",s)})}"element"===typeOf(t)?(t.set("data-name",s.value),t.set("data-value",o.value),t.set("html",s.value+" : "+o.value)):e.addParam(s.value,o.value),i.close()}}}).open()}})});
//# sourceMappingURL=Params.js.map