{"version":3,"file":"Controls.js","sources":["../classes/DOM.js","../classes/Controls.js","../classes/storage/Storage.js","../classes/QUI.js","../QUI.js","Controls.js"],"names":[],"mappings":"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","sourcesContent":["\n/**\n * The DOM class emulate similar methods\n * like a DOMNode to a normal Object\n *\n * Its easy to use and most classes inherit from {qui/classes/DOM}\n * All objects that inherited from {qui/classes/DOM} can easily extend with Attributes.\n *\n * @module qui/classes/DOM\n * @author www.quiqqer.com (Henning Leutz)\n *\n * @event onDestroy [this]\n * @event onSetAttribute [key, value]\n */\n\ndefine('qui/classes/DOM', [],function()\n{\n    \"use strict\";\n\n    window.$quistorage = {};\n\n    /**\n     * The DOM class emulate similar methods\n     * like a DOMNode to a normal Object\n     *\n     * @class qui/classes/DOM\n     *\n     * @param {Object} options -\n     *         With options you can set attributes or extend the Object width methods and events\n     *\n     * @memberof! <global>\n     */\n    return new Class({\n\n        Implements : [ Options, Events ],\n        Type       : 'qui/classes/DOM',\n\n        options : {},\n        $uid    : null,\n\n        initialize : function(options)\n        {\n            options = options || {};\n\n            if ( options.events )\n            {\n                this.addEvents( options.events );\n                delete options.events;\n            }\n\n            if ( options.methods )\n            {\n                Object.append( this, options.methods );\n                delete options.methods;\n            }\n\n            this.setAttributes( options );\n            this.fireEvent( 'init', [ this ] );\n        },\n\n        /**\n         * If this.TYPE is set, this.Type will be return\n         *\n         * @method qui/classes/DOM#$family\n         * @return {String} Type of the Object\n         * @ignore\n         */\n        $family : function()\n        {\n            if ( typeof this.Type !== 'undefined' ) {\n                return this.Type;\n            }\n\n            return typeOf( this );\n        },\n\n        /**\n         * Get the Unique ID from the Object\n         *\n         * @method qui/classes/DOM#getId\n         * @return {String} Object ID\n         */\n        getId : function()\n        {\n            if ( !this.$uid ) {\n                this.$uid = String.uniqueID();\n            }\n\n            return this.$uid;\n        },\n\n        /**\n         * Get the type from the Object\n         *\n         * @method qui/classes/DOM#getType\n         * @return {String} The type of the object\n         */\n        getType : function()\n        {\n            return typeOf( this );\n        },\n\n        /**\n         * Set an attribute to the Object\n         * You can extend the Object with everything you like\n         * You can extend the Object width more than the default options\n         *\n         * @method qui/classes/DOM#setAttribute\n         *\n         * @param {String} k - Name of the Attribute\n         * @param {Object|String|Number|Array} v - value\n         *\n         * @return {Object} this (qui/classes/DOM)\n         */\n        setAttribute : function(k, v)\n        {\n            this.fireEvent('setAttribute', [ k, v ]);\n\n            if ( typeof this.options[ k ] !== 'undefined' )\n            {\n                this.options[ k ] = v;\n                return this;\n            }\n\n            var oid = Slick.uidOf( this );\n\n            if ( typeof window.$quistorage[ oid ] === 'undefined' ) {\n                window.$quistorage[ oid ] = {};\n            }\n\n            window.$quistorage[ oid ][ k ] = v;\n\n            return this;\n        },\n\n        /**\n         * Destroy the Object and all relationsships to some Object\n         *\n         * @method qui/classes/DOM#destroy\n         */\n        destroy : function()\n        {\n            this.fireEvent( 'destroy', [ this ] );\n\n            // storage clear\n            var oid = Slick.uidOf( this );\n\n            if ( oid in window.$quistorage ) {\n                delete window.$quistorage[ oid ];\n            }\n\n            this.removeEvents();\n        },\n\n        /**\n         * Alias for setAttributes, please use setAttributes()\n         *\n         * @see qui/classes/DOM#setAttributes()\n         * @method qui/classes/DOM#setOptions\n         */\n        setOptions : function(options)\n        {\n            this.setAttributes( options );\n        },\n\n        /**\n         * If you want set more than one attribute\n         *\n         * @method qui/classes/DOM#setAttributes\n         *\n         * @param {Object} attributes - Object with attributes\n         * @return {Object} this (qui/classes/DOM)\n         *\n         * @example Object.setAttributes({\n         *   attr1 : '1',\n         *   attr2 : []\n         * })\n         */\n        setAttributes : function(attributes)\n        {\n            attributes = attributes || {};\n\n            for ( var k in attributes )\n            {\n                if ( attributes.hasOwnProperty( k ) ) {\n                    this.setAttribute( k, attributes[k] );\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * Return an attribute of the Object\n         * returns the \"not default attributes\", too\n         *\n         * @method qui/classes/DOM#setAttribute\n         * @param {String} k - name of the attribute\n         * @return {String|Boolean|Array|Object} attribute\n         */\n        getAttribute : function(k)\n        {\n            if ( k in this.options ) {\n                return this.options[ k ];\n            }\n\n            var oid = Slick.uidOf( this );\n\n            if ( typeof window.$quistorage[ oid ] === 'undefined' ) {\n                return false;\n            }\n\n            if ( typeof window.$quistorage[ oid ][ k ] !== 'undefined' ) {\n                return window.$quistorage[ oid ][ k ];\n            }\n\n            return false;\n        },\n\n        /**\n         * Alias for getAttributes, please use getAttributes()\n         *\n         * @method qui/classes/DOM#getAllAttributes\n         * @see qui/classes/DOM#getAttributes()\n         * @deprecated\n         */\n        getAllAttributes : function()\n        {\n            return this.getAttributes();\n        },\n\n        /**\n         * Return the default attributes\n         *\n         * @method qui/classes/DOM#getAttributes\n         * @return {Object} attributes\n         */\n        getAttributes : function()\n        {\n            return this.options;\n        },\n\n        /**\n         * Return the attributes which stored into the QUI Storage\n         *\n         * @return {Object}\n         */\n        getStorageAttributes : function()\n        {\n            var oid = Slick.uidOf( this );\n\n            if ( oid in window.$quistorage  ) {\n                return window.$quistorage[ oid ];\n            }\n\n            return {};\n        },\n\n        /**\n         * Return true if a attribute exist\n         *\n         * @method qui/classes/DOM#existAttribute\n         * @param {String} k - wanted attribute\n         * @return {Boolean} true or false\n         */\n        existAttribute : function(k)\n        {\n            if ( typeof this.options[ k ] !== 'undefined' ) {\n                return true;\n            }\n\n            var oid = Slick.uidOf( this );\n\n            return window.$quistorage[ oid ] && window.$quistorage[ oid ][ k ];\n        },\n\n        /**\n         * Return the binded functions of the event name\n         *\n         * @method qui/classes/DOM#existAttribute\n         * @param {String} eventname - wanted event\n         * @return {Array|Boolean} Event list\n         */\n        getEvents : function(eventname)\n        {\n            if ( typeof this.$events === 'undefined') {\n                return false;\n            }\n\n            if ( typeof this.$events[ eventname ] !== 'undefined') {\n                return this.$events[ eventname ];\n            }\n\n            return false;\n        }\n    });\n});\n\n","\n/**\n * QUI control Manager\n *\n * @module qui/classes/Controls\n * @author www.pcsg.de (Henning Leutz)\n *\n * @require require\n * @require qui/classes/DOM\n */\n\ndefine('qui/classes/Controls', [\n\n    'require',\n    'qui/classes/DOM'\n\n], function(require, DOM)\n{\n    \"use strict\";\n\n    /**\n     * @class qui/classes/Controls\n     *\n     * @memberof! <global>\n     */\n    return new Class({\n\n        Extends : DOM,\n        Type    : 'qui/classes/Controls',\n\n        initialize : function()\n        {\n            this.$controls = {};\n            this.$cids     = {};\n            this.$types    = {};\n        },\n\n        /**\n         * Return all controls with tha name\n         *\n         * @method qui/classes/Controls#get\n         * @param {String} n - Name of the Control\n         * @return {Array} All Controls with the needle name\n         */\n        get : function(n)\n        {\n            if ( typeof this.$controls[ n ] === 'undefined' ) {\n                return [];\n            }\n\n            return this.$controls[ n ];\n        },\n\n        /**\n         * Get the Controls by its unique id\n         *\n         * @method qui/classes/Controls#getById\n         * @param {String|Number} id - ID of the wanted Control\n         * @return {qui/controls/Control|Boolean} a QUI control, based on qui/controls/Control or false\n         */\n        getById : function(id)\n        {\n            if ( id in this.$cids ) {\n                return this.$cids[ id ];\n            }\n\n            return false;\n        },\n\n        /**\n         * Return all controls from a type\n         *\n         * @method qui/classes/Controls#getByType\n         * @return {Array}\n         */\n        getByType : function(type)\n        {\n            if ( type in this.$types ) {\n                return this.$types[ type ];\n            }\n\n            return [];\n        },\n\n        /**\n         * Load a control by a control type\n         *\n         * @method qui/classes/Controls#loadType\n         * @param {String} type\n         * @param {Function} onload\n         *\n         * @example QUI.Controls.loadType('qui/controls/taskbar/Task', function(Modul) { })\n         * @deprecated\n         */\n        loadType : function(type, onload)\n        {\n            if ( !type.match( /qui\\// ) ) {\n                type = 'qui/'+ type;\n            }\n\n            require( [ type ] , onload );\n        },\n\n        /**\n         * Is the Object a QUI Control?\n         *\n         * @method qui/controls/Control#isControl\n         * @return {Boolean} Obj - true or false\n         */\n        isControl : function(Obj)\n        {\n            if ( typeof Obj === 'undefined' || !Obj ) {\n                return false;\n            }\n\n            return typeof Obj.getType !== 'undefined';\n        },\n\n        /**\n         * Add a Control to the list\n         *\n         * @method qui/controls/Control#add\n         * @param {qui/controls/Control} Control\n         */\n        add : function(Control)\n        {\n            var s = this,\n                n = Control.getAttribute( 'name' ),\n                t = typeOf( Control );\n\n            if ( !n || n === '' ) {\n                n = '#unknown';\n            }\n\n            if ( typeof this.$controls[ n ] === 'undefined' ) {\n                this.$controls[ n ] = [];\n            }\n\n            if ( typeof this.$types[ t ] === 'undefined' ) {\n                this.$types[ t ] = [];\n            }\n\n            this.$controls[ n ].push( Control );\n            this.$types[ t ].push( Control );\n\n            this.$cids[ Control.getId() ] = Control;\n\n            Control.addEvent('onDestroy', function() {\n                s.destroy( Control );\n            });\n        },\n\n        /**\n         * Destroy a Control\n         *\n         * @method qui/controls/Control#destroy\n         * @param {qui/controls/Control} Control\n         */\n        destroy : function(Control)\n        {\n            var n  = Control.getAttribute( 'name' ),\n                t  = typeOf( Control ),\n                id = Control.getId();\n\n            if ( !n || n === '' ) {\n                n = '#unknown';\n            }\n\n            if ( typeof this.$cids[ id ] !== 'undefined' ) {\n                delete this.$cids[ id ];\n            }\n\n            var i, len;\n            var tmp = [];\n\n            // refresh controls\n            if ( typeof this.$controls[ n ] !== 'undefined' )\n            {\n                for ( i = 0, len = this.$controls[ n ].length; i < len; i++ )\n                {\n                    if ( id !== this.$controls[ n ][ i ].getId() ) {\n                        tmp.push( this.$controls[ n ][ i ] );\n                    }\n                }\n\n                this.$controls[ n ] = tmp;\n\n                if ( !tmp.length ) {\n                    delete this.$controls[ n ];\n                }\n            }\n\n            // refresh types\n            tmp = [];\n\n            if ( typeof this.$types[ t ] !== 'undefined' )\n            {\n                for ( i = 0, len = this.$types[ t ].length; i < len; i++ )\n                {\n                    if ( id !== this.$types[ t ][ i ].getId() ) {\n                        tmp.push( this.$types[ t ][ i ] );\n                    }\n                }\n            }\n\n            this.$types[ t ] = tmp;\n        }\n    });\n});\n","\n/**\n * Use Local storage, with fallbacks\n * if local storage not exist, it loads the polyfill\n *\n * some browsers cant use local storage in private mode,\n * so it use internal object storage, therefore the data are kept only in the session\n *\n * @module qui/classes/storage/Storage\n * @author www.pcsg.de (Henning Leutz)\n *\n * @require qui/classes/DOM\n * @require [optional] qui/classes/storage/Polyfill\n */\n\nvar needle = ['qui/classes/DOM'];\n\nif ( typeof window.localStorage === 'undefined' ||\n     typeof window.sessionStorage === 'undefined')\n{\n    needle.push( 'qui/classes/storage/Polyfill' );\n}\n\ndefine('qui/classes/storage/Storage', needle, function(QDOM)\n{\n    \"use strict\";\n\n    /**\n     * Local storage\n     *\n     * @class qui/classes/storage/Storage\n     *\n     * @memberof! <global>\n     */\n    return new Class({\n\n        Extends : QDOM,\n        Type    : 'qui/classes/storage/Storage',\n\n        $data : {},\n\n        /**\n         * Set the value of a key\n         *\n         * @method qui/classes/storage/Storage#set\n         * @param {String} key\n         * @param {String|Number|Boolean} value\n         */\n        set : function(key, value)\n        {\n            try\n            {\n                window.localStorage.setItem( key, value );\n\n            } catch ( e )\n            {\n                this.$data[ key ] = value;\n            }\n        },\n\n        /**\n         * Return the value of stored the key\n         *\n         * @method qui/classes/storage/Storage#get\n         * @param {String} key\n         * @return {String|Number|Boolean} the wanted storage\n         */\n        get : function(key)\n        {\n            try\n            {\n                return window.localStorage.getItem( key );\n\n            } catch ( e )\n            {\n\n            }\n\n            if ( typeof this.$data[ key ] !== 'undefined' ) {\n                return this.$data[ key ];\n            }\n\n            return null;\n        },\n\n        /**\n         * Remove a stored key\n         *\n         * @method qui/classes/storage/Storage#remove\n         * @param {String} key\n         */\n        remove : function(key)\n        {\n            try\n            {\n                window.localStorage.removeItem( key );\n\n            } catch ( e )\n            {\n\n            }\n\n            if ( typeof this.$data[ key ] !== 'undefined' ) {\n                delete this.$data[ key ];\n            }\n        },\n\n        /**\n         * Clear the storage\n         *\n         * @method qui/classes/storage/Storage#clear\n         */\n        clear : function()\n        {\n            this.$data = {};\n\n            try\n            {\n                window.localStorage.clear();\n\n            } catch ( e )\n            {\n\n            }\n        }\n    });\n});\n\n","\n/**\n * The Main Class for the Main QUI Object\n *\n * @module qui/classes/QUI\n * @author www.pcsg.de (Henning Leutz)\n *\n * @require require\n * @require qui/classes/DOM\n * @require qui/classes/Controls\n *\n * @event onError : if there is an error\n */\n\ndefine('qui/classes/QUI', [\n\n    'require',\n    'qui/classes/DOM',\n    'qui/classes/Controls',\n    'qui/classes/storage/Storage'\n\n], function(require, DOM, Controls, Storage)\n{\n    \"use strict\";\n\n    /**\n     * The QUIQQER main object\n     *\n     * @class QUI\n     *\n     * @memberof! <global>\n     */\n    return new Class({\n\n        Extends : DOM,\n        Type    : 'qui/classes/QUI',\n\n        initialize : function(options)\n        {\n            /**\n             * defaults\n             */\n            this.setAttributes({\n                'debug'       : false,\n                'fetchErrors' : true\n            });\n\n            this.parent( options );\n\n            // error handling\n            if ( this.getAttribute('fetchErrors') )\n            {\n                var self = this;\n\n                require.onError = function(requireType, requireModules)\n                {\n                    self.trigger(\n                        'ERROR :'+ requireType +'\\n'+\n                        'Require :'+ requireModules\n                    );\n                };\n\n                window.onerror = this.trigger.bind( this );\n            }\n\n            this.Controls = new Controls();\n            this.Storage  = new Storage();\n\n            this.MessageHandler = null;\n        },\n\n        /**\n         * Creates Namespaces\n         * based on YAHOO code - nice solution!!\n         *\n         * @method qui/classes/QUI#namespace\n         * @example QUI.namespace('my.name.space'); -> QUI.my.name.space\n         * @deprecated\n         */\n        namespace : function()\n        {\n            var tlen;\n\n            var a = arguments,\n                o = this,\n                i = 0,\n                j = 0,\n\n                len  = a.length,\n                tok  = null,\n                name = null;\n\n            // iterate on the arguments\n            for ( ; i < len; i = i + 1 )\n            {\n                tok  = a[ i ].split( \".\" );\n                tlen = tok.length;\n\n                // iterate on the object tokens\n                for ( j = 0; j < tlen; j = j + 1 )\n                {\n                    name = tok[j];\n                    o[ name ] = o[ name ] || {};\n                    o = o[ name ];\n                }\n            }\n\n            return o;\n        },\n\n        /**\n         * parse qui controls\n         *\n         * @param {HTMLElement} [Parent] - optional, if no parent given, document.body would be use\n         * @param {Function} [callback] - optional\n         */\n        parse : function(Parent, callback)\n        {\n            if ( typeof Parent === 'undefined' ) {\n                Parent = document.body;\n            }\n\n            if ( typeOf( Parent ) !== 'element' )\n            {\n                if ( typeof callback !== 'undefined' ) {\n                    callback();\n                }\n\n                return;\n            }\n\n            // parse all qui controls\n            var nodes = Parent.getElements( '[data-qui]' ),\n                list  = nodes.map(function(Elm) {\n                    return Elm.get( 'data-qui' );\n                });\n\n            require(list, function()\n            {\n                var i, len, Cls, Elm;\n\n                var formNodes = {\n                    'TEXTAREA' : true,\n                    'INPUT'    : true\n                };\n\n                for ( i = 0, len = list.length; i < len; i++ )\n                {\n                    Cls = arguments[ i ];\n                    Elm = nodes[ i ];\n\n                    // already initialized\n                    if ( Elm.get( 'data-quiid' ) ) {\n                        continue;\n                    }\n\n                    if ( Elm.get( 'html' ).trim() !== '' ||\n                         typeof formNodes[ Elm.nodeName ] !== 'undefined' )\n                    {\n                        new Cls().import( Elm );\n                    } else\n                    {\n                        new Cls().replaces( Elm );\n                    }\n                }\n\n                if ( typeof callback !== 'undefined' ) {\n                    callback();\n                }\n            });\n        },\n\n        /**\n         * Fire the Error Event\n         *\n         * @method qui/classes/QUI#triggerError\n         *\n         * @param {qui/classes/messages/Message|Exception} Exception - Exception Objekt\n         * @return {Object} this (qui/classes/QUI)\n         */\n        triggerError : function(Exception)\n        {\n            return this.trigger( Exception.getMessage(), '', 0 );\n        },\n\n        /**\n         * trigger some messages to the console\n         *\n         * @method qui/classes/QUI#trigger\n         *\n         * @param {String} msg\n         * @param {String} [url] - optional\n         * @param {Number} [linenumber] - optional\n         *\n         * @return {Object} this (qui/classes/QUI)\n         */\n        trigger : function(msg, url, linenumber)\n        {\n            /*\n            var message = msg +\"\\n\"+\n                          \"File: \"+ url +\"\\n\"+\n                          \"Linenumber: \"+ linenumber;\n            */\n            this.fireEvent( 'error', [ msg, url, linenumber ] );\n\n            return this;\n        },\n\n        /**\n         * Return the message handler\n         *\n         * @method qui/classes/QUI#getMessageHandler\n         * @param {Function} callback\n         */\n        getMessageHandler : function(callback)\n        {\n            if ( typeof this.$execGetMessageHandler !== 'undefined' && !this.MessageHandler )\n            {\n                this.$execGetMessageHandler = true;\n\n                (function() {\n                    this.getMessageHandler( callback );\n                }).delay( 20, this );\n\n                return;\n            }\n\n            this.$execGetMessageHandler = true;\n\n\n            if ( this.MessageHandler )\n            {\n                callback( this.MessageHandler );\n                return;\n            }\n\n            var self = this;\n\n            require(['qui/controls/messages/Handler'], function(Handler)\n            {\n                self.MessageHandler = new Handler();\n\n                callback( self.MessageHandler );\n            });\n        },\n\n        /**\n         * Return the message handler\n         *\n         * @method qui/classes/QUI#getControls\n         * @param {Function} callback\n         */\n        getControls : function(callback)\n        {\n            if ( this.Controls ) {\n                callback( this.Controls );\n            }\n        }\n    });\n});\n\n","\n/**\n * The Main QUI Object\n * create window.QUI\n *\n * @module qui/QUI\n * @author www.pcsg.de (Henning Leutz)\n */\n\ndefine('qui/QUI', ['qui/classes/QUI'], function(QUIClass)\n{\n    \"use strict\";\n\n    if ( typeof window.QUI === 'undefined' ) {\n        window.QUI = new QUIClass();\n    }\n\n    document.fireEvent( 'qui-loaded' );\n\n    document.addEvent('domready', function() {\n        window.QUI.parse( document.body );\n    });\n\n    return window.QUI;\n});\n\n","\n/**\n * Utils for the controls\n * Helps the controls\n *\n * @module qui/utils/Controls\n * @author www.pcsg.de (Henning Leutz)\n *\n * @require qui/QUI\n */\n\ndefine('qui/utils/Controls', ['qui/QUI'], function(QUI)\n{\n    \"use strict\";\n\n    return {\n\n        /**\n         * Checks if the string is a fontawesome css class\n         *\n         * @method qui/utils/Controls#isFontAwesomeClass\n         * @param {String} icon - FontAweomse icon-class or an image path\n         * @returns {Boolean}\n         */\n        isFontAwesomeClass : function(icon)\n        {\n            if ( !icon ) {\n                return false;\n            }\n\n            return ( icon.match( /icon-/ ) || icon.match( /fa-/ ) ) && !icon.match( /\\./ );\n        },\n\n        /**\n         * Highlights a control\n         *\n         * @method qui/utils/Controls#highlight\n         * @param {HTMLElement} Element\n         */\n        highlight : function(Element)\n        {\n            if ( !Element ) {\n                return;\n            }\n\n            var quiid = Element.get( 'data-quiid' );\n\n            if ( !quiid ) {\n                return;\n            }\n\n            QUI.Controls.getById( quiid ).highlight();\n        },\n\n        /**\n         * Normalize a control, if it is was highlighted\n         *\n         * @method qui/utils/Controls#normalize\n         * @param {HTMLElement} Element\n         */\n        normalize : function(Element)\n        {\n            if ( !Element ) {\n                return;\n            }\n\n            var quiid = Element.get( 'data-quiid' );\n\n            if ( !quiid ) {\n                return;\n            }\n\n            QUI.Controls.getById( quiid ).normalize();\n        }\n\n    };\n});\n"]}