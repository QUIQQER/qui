define("qui/classes/DOM",[],function(){"use strict";return window.$quistorage={},new Class({Implements:[Options,Events],Type:"qui/classes/DOM",options:{},$uid:null,initialize:function(e){e=e||{},e.events&&(this.addEvents(e.events),delete e.events),e.methods&&(Object.append(this,e.methods),delete e.methods),this.setAttributes(e),this.fireEvent("init",[this])},$family:function(){return"undefined"!=typeof this.Type?this.Type:typeOf(this)},getId:function(){return this.$uid||(this.$uid=String.uniqueID()),this.$uid},getType:function(){return typeOf(this)},setAttribute:function(e,t){if(this.fireEvent("setAttribute",[e,t]),"undefined"!=typeof this.options[e])return this.options[e]=t,this;var i=Slick.uidOf(this);return"undefined"==typeof window.$quistorage[i]&&(window.$quistorage[i]={}),window.$quistorage[i][e]=t,this},destroy:function(){this.fireEvent("destroy",[this]);var e=Slick.uidOf(this);e in window.$quistorage&&delete window.$quistorage[e],this.removeEvents()},setOptions:function(e){this.setAttributes(e)},setAttributes:function(e){e=e||{};for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t]);return this},getAttribute:function(e){if(e in this.options)return this.options[e];var t=Slick.uidOf(this);return"undefined"==typeof window.$quistorage[t]?!1:"undefined"!=typeof window.$quistorage[t][e]?window.$quistorage[t][e]:!1},getAllAttributes:function(){return this.getAttributes()},getAttributes:function(){return this.options},getStorageAttributes:function(){var e=Slick.uidOf(this);return e in window.$quistorage?window.$quistorage[e]:{}},existAttribute:function(e){if("undefined"!=typeof this.options[e])return!0;var t=Slick.uidOf(this);return window.$quistorage[t]&&window.$quistorage[t][e]},getEvents:function(e){return"undefined"==typeof this.$events?!1:"undefined"!=typeof this.$events[e]?this.$events[e]:!1}})}),function(){var e=this.ElementQueries=function(){function t(e){e||(e=document.documentElement);var t=getComputedStyle(e,"fontSize");return parseFloat(t)||16}function i(e,i){var n=i.replace(/[0-9]*/,"");switch(i=parseFloat(i),n){case"px":return i;case"em":return i*t(e);case"rem":return i*t();case"vw":return i*document.documentElement.clientWidth/100;case"vh":return i*document.documentElement.clientHeight/100;case"vmin":case"vmax":var s=document.documentElement.clientWidth/100,o=document.documentElement.clientHeight/100,r=Math["vmin"===n?"min":"max"];return i*r(s,o);default:return i}}function n(e){this.element=e,this.options={};var t,n,s,o,r,u,d,h=0,l=0;this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",");this.options[t]=e};var c=["min-width","min-height","max-width","max-height"];this.call=function(){h=this.element.offsetWidth,l=this.element.offsetHeight,r={};for(t in this.options)this.options.hasOwnProperty(t)&&(n=this.options[t],s=i(this.element,n.value),o="width"==n.property?h:l,d=n.mode+"-"+n.property,u="","min"==n.mode&&o>=s&&(u+=n.value),"max"==n.mode&&s>=o&&(u+=n.value),r[d]||(r[d]=""),u&&-1===(" "+r[d]+" ").indexOf(" "+u+" ")&&(r[d]+=" "+u));for(var e in c)r[c[e]]?this.element.setAttribute(c[e],r[c[e]].substr(1)):this.element.removeAttribute(c[e])}}function s(e,t){e.elementQueriesSetupInformation?e.elementQueriesSetupInformation.addOption(t):(e.elementQueriesSetupInformation=new n(e),e.elementQueriesSetupInformation.addOption(t),e.elementQueriesSensor=new ResizeSensor(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call(),this.withTracking&&d.push(e)}function o(e,t,i,n){var o;if(document.querySelectorAll&&(o=document.querySelectorAll.bind(document)),o||"undefined"==typeof $$||(o=$$),o||"undefined"==typeof jQuery||(o=jQuery),!o)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";for(var r=o(e),u=0,d=r.length;d>u;u++)s(r[u],{mode:t,property:i,value:n})}function r(e){var t;for(e=e.replace(/'/g,'"');null!==(t=h.exec(e));)5<t.length&&o(t[1]||t[5],t[2],t[3],t[4])}function u(e){if(e){if("string"==typeof e)return e=e.toLowerCase(),void((-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&r(e));for(var t="",i=0,n=e.length;n>i;i++)1===e[i].type?(t=e[i].selectorText||e[i].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?r(t):(-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&r(t)):4===e[i].type&&u(e[i].cssRules||e[i].rules)}}this.sheetList={},this.withTracking=!1;var d=[],h=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim;this.init=function(e){var t,i,n;for(this.withTracking=e,t=0,i=document.styleSheets.length;i>t;t++)try{if(n=document.styleSheets[t],"string"==typeof n.href&&"undefined"!=typeof this.sheetList[n.href])continue;u(n.cssText||n.cssRules||n.rules),this.sheetList[n.href]=!0}catch(s){}},this.update=function(e){this.withTracking=e,this.init()},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready.";for(var t;t=d.pop();)e.detach(t);d=[]}};e.update=function(t){e.instance.update(t)},e.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor,console.log("detached")):console.log("detached already",e)},e.withTracking=!1,e.init=function(){e.instance||(e.instance=new e),e.instance.init(e.withTracking)};var t=function(e){if(document.addEventListener&&document.addEventListener("DOMContentLoaded",e,!1),/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);window.onload=e};window.addEventListener?window.addEventListener("load",e.init,!1):window.attachEvent("onload",e.init),t(e.init)}(),define("qui/lib/element-query/ElementQuery",function(){}),function(){this.ResizeSensor=function(e,t){function i(){this.q=[],this.add=function(e){this.q.push(e)};var e,t;this.call=function(){for(e=0,t=this.q.length;t>e;e++)this.q[e].call()}}function n(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,t){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(t)}else e.resizedAttached=new i,e.resizedAttached.add(t);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var s="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",o="position: absolute; left: 0; top: 0;";e.resizeSensor.style.cssText=s,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+s+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+s+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),{fixed:1,absolute:1}[n(e,"position")]||(e.style.position="relative");var r,u,d=e.resizeSensor.childNodes[0],h=d.childNodes[0],l=e.resizeSensor.childNodes[1],c=(l.childNodes[0],function(){h.style.width=d.offsetWidth+10+"px",h.style.height=d.offsetHeight+10+"px",d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,l.scrollLeft=l.scrollWidth,l.scrollTop=l.scrollHeight,r=e.offsetWidth,u=e.offsetHeight});c();var f=function(){e.resizedAttached&&e.resizedAttached.call()},a=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)};a(d,"scroll",function(){(e.offsetWidth>r||e.offsetHeight>u)&&f(),c()}),a(l,"scroll",function(){(e.offsetWidth<r||e.offsetHeight<u)&&f(),c()})}if("[object Array]"===Object.prototype.toString.call(e)||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements)for(var o=0,r=e.length;r>o;o++)s(e[o],t);else s(e,t);this.detach=function(){ResizeSensor.detach(e)}},this.ResizeSensor.detach=function(e){e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)}}(),define("qui/lib/element-query/ResizeSensor",function(){}),define("qui/classes/Controls",["require","qui/classes/DOM","qui/lib/element-query/ElementQuery","qui/lib/element-query/ResizeSensor"],function(e,t){"use strict";return new Class({Extends:t,Type:"qui/classes/Controls",initialize:function(){this.$controls={},this.$cids={},this.$types={},this.ElementQueries=new ElementQueries},get:function(e){return"undefined"==typeof this.$controls[e]?[]:this.$controls[e]},getById:function(e){return e in this.$cids?this.$cids[e]:!1},getByType:function(e){return e in this.$types?this.$types[e]:[]},loadType:function(t,i){t.match(/qui\//)||(t="qui/"+t),e([t],i)},isControl:function(e){return"undefined"!=typeof e&&e?"undefined"!=typeof e.getType:!1},add:function(e){var t=this,i=e.getAttribute("name"),n=typeOf(e);i&&""!==i||(i="#unknown"),"undefined"==typeof this.$controls[i]&&(this.$controls[i]=[]),"undefined"==typeof this.$types[n]&&(this.$types[n]=[]),this.$controls[i].push(e),this.$types[n].push(e),this.$cids[e.getId()]=e,e.addEvent("onDestroy",function(){t.destroy(e)})},destroy:function(e){var t=e.getAttribute("name"),i=typeOf(e),n=e.getId();t&&""!==t||(t="#unknown"),"undefined"!=typeof this.$cids[n]&&delete this.$cids[n];var s,o,r=[];if("undefined"!=typeof this.$controls[t]){for(s=0,o=this.$controls[t].length;o>s;s++)n!==this.$controls[t][s].getId()&&r.push(this.$controls[t][s]);this.$controls[t]=r,r.length||delete this.$controls[t]}if(r=[],"undefined"!=typeof this.$types[i])for(s=0,o=this.$types[i].length;o>s;s++)n!==this.$types[i][s].getId()&&r.push(this.$types[i][s]);this.$types[i]=r}})});
//# sourceMappingURL=Controls.js.map