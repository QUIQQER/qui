define("qui/controls/contextmenu/Bar",["qui/controls/Control","qui/controls/contextmenu/BarItem","qui/controls/contextmenu/Menu","qui/controls/contextmenu/Item","qui/controls/contextmenu/Seperator","css!qui/controls/contextmenu/Bar.css"],function(Control,ContextBarItem,ContextMenu,ContextItem,ContextSeperator){"use strict";return new Class({Extends:Control,Type:"qui/controls/contextmenu/Bar",Binds:["$onItemEnter","$onItemLeave","$onItemClick","$onItemBlur"],options:{styles:null,width:200,openening:false,dragable:false},initialize:function(options){this.parent(options);this.$items=[];this.$Elm=null;this.$Menu=null;this.$cActive=null},create:function(){this.$Elm=new Element("div",{"class":"qui-contextmenu-bar"});if(this.getAttribute("styles")){this.$Elm.setStyles(this.getAttribute("styles"))}return this.$Elm},insert:function(list){for(var i=0,len=list.length;i<len;i++){if(this.getAttribute("dragable")){list[i].dragable=true}this.appendChild(new ContextBarItem(list[i]))}return this},getChildren:function(name){if(typeof name!=="undefined"){var i,len;var items=this.$items;for(i=0,len=items.length;i<len;i++){if(items[i].getAttribute("name")==name){return items[i]}}return false}return this.$items},firstChild:function(){if(this.$items[0]){return this.$items[0]}return false},count:function(){return this.$items.length},appendChild:function(Child){if(!Child||typeof Child==="undefined"){return this}if(this.getAttribute("dragable")){Child.setAttribute("dragable",true)}this.$items.push(Child);Child.addEvents({onMouseEnter:this.$onItemEnter,onMouseLeave:this.$onItemLeave,onClick:this.$onItemClick,onBlur:this.$onItemBlur});if(this.$Elm){Child.inject(this.$Elm)}Child.setParent(this);return this},clearChildren:function(){for(var i=0,len=this.$items.length;i<len;i++){if(this.$items[i]){this.$items[i].destroy()}}this.$items=[];return this},getNext:function(Item){for(var i=0,len=this.$items.length;i<len;i++){if(this.$items[i]!=Item){continue}if(typeof this.$items[i+1]!=="undefined"){return this.$items[i+1]}}return false},getPrevious:function(Item){var i=this.$items.length-1;for(;i>=0;i--){if(i===0){return false}if(this.$items[i]==Item){return this.$items[i-1]}}return false},$onItemEnter:function(Item){if(this.getAttribute("openening")===false){return}if(this.$Active){this.$Active.blur()}if(typeof this.$delay!=="undefined"&&this.$delay){clearTimeout(this.$delay)}Item.focus();this.$Active=Item},$onItemLeave:function(Item){},$onItemClick:function(Item){this.setAttribute("openening",true)},$onItemBlur:function(){this.$Active=null;this.$delay=function(){if(!this.$Active){this.setAttribute("openening",false)}}.delay(200,this)}})});
//# sourceMappingURL=/var/www/git/quiqqer/qui/build/qui/controls/contextmenu/Bar.map.js